<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">
<beans>

	<!-- Transaction manager for a single Hibernate SessionFactory (alternative to JTA) -->
	<bean id="transactionManager" class="org.springframework.orm.hibernate4.HibernateTransactionManager">
		<property name="sessionFactory"><ref bean="sessionFactory"/></property>
	</bean>
	
	<bean id="usuarioBL" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
		<property name="transactionManager"><ref bean="transactionManager"/></property>
		<property name="target"><ref bean="usuarioBLTarget"/></property>
		<property name="transactionAttributes">
			<props>
				<prop key="*">PROPAGATION_REQUIRED,-Exception</prop>
			</props>
		</property>
	</bean>
	<bean id="usuarioBLTarget" class="com.vcortes.canjehoras.bl.UsuarioBL">
		<property name="usuarioDAO"><ref bean="usuarioDAO"/></property>
	</bean>
	
	<bean id="buscadorBL" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
		<property name="transactionManager"><ref bean="transactionManager"/></property>
		<property name="target"><ref bean="buscadorBLTarget"/></property>
		<property name="transactionAttributes">
			<props>
				<prop key="*">PROPAGATION_REQUIRED,-Exception</prop>
			</props>
		</property>
	</bean>
	<bean id="buscadorBLTarget" class="com.vcortes.canjehoras.bl.BuscadorBL">
		<property name="buscadorDAO"><ref bean="buscadorDAO"/></property>
	</bean>
	
	<bean id="truequeBL" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
		<property name="transactionManager"><ref bean="transactionManager"/></property>
		<property name="target"><ref bean="truequeBLTarget"/></property>
		<property name="transactionAttributes">
			<props>
				<prop key="*">PROPAGATION_REQUIRED,-Exception</prop>
			</props>
		</property>
	</bean>
	<bean id="truequeBLTarget" class="com.vcortes.canjehoras.bl.TruequeBL">
		<property name="truequeDAO"><ref bean="truequeDAO"/></property>
	</bean>
	
	<bean id="provinciaBL" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
		<property name="transactionManager"><ref bean="transactionManager"/></property>
		<property name="target"><ref bean="provinciaBLTarget"/></property>
		<property name="transactionAttributes">
			<props>
				<prop key="*">PROPAGATION_REQUIRED,-Exception</prop>
			</props>
		</property>
	</bean>
	<bean id="provinciaBLTarget" class="com.vcortes.canjehoras.bl.ProvinciaBL">
		<property name="provinciaDAO"><ref bean="provinciaDAO"/></property>
	</bean>
	
	<bean id="prefProvinciaBL" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
		<property name="transactionManager"><ref bean="transactionManager"/></property>
		<property name="target"><ref bean="prefProvinciaBLTarget"/></property>
		<property name="transactionAttributes">
			<props>
				<prop key="*">PROPAGATION_REQUIRED,-Exception</prop>
			</props>
		</property>
	</bean>
	<bean id="prefProvinciaBLTarget" class="com.vcortes.canjehoras.bl.PrefProvinciaBL">
		<property name="prefProvinciaDAO"><ref bean="prefProvinciaDAO"/></property>
	</bean>
	
	<bean id="prefCategoriaBL" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
		<property name="transactionManager"><ref bean="transactionManager"/></property>
		<property name="target"><ref bean="prefCategoriaBLTarget"/></property>
		<property name="transactionAttributes">
			<props>
				<prop key="*">PROPAGATION_REQUIRED,-Exception</prop>
			</props>
		</property>
	</bean>
	<bean id="prefCategoriaBLTarget" class="com.vcortes.canjehoras.bl.PrefCategoriaBL">
		<property name="prefCategoriaDAO"><ref bean="prefCategoriaDAO"/></property>
	</bean>
	
	<bean id="agendaBL" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
		<property name="transactionManager"><ref bean="transactionManager"/></property>
		<property name="target"><ref bean="agendaBLTarget"/></property>
		<property name="transactionAttributes">
			<props>
				<prop key="*">PROPAGATION_REQUIRED,-Exception</prop>
			</props>
		</property>
	</bean>
	<bean id="agendaBLTarget" class="com.vcortes.canjehoras.bl.AgendaBL">
		<property name="agendaDAO"><ref bean="agendaDAO"/></property>
	</bean>
	
	<bean id="canjeBL" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
		<property name="transactionManager"><ref bean="transactionManager"/></property>
		<property name="target"><ref bean="canjeBLTarget"/></property>
		<property name="transactionAttributes">
			<props>
				<prop key="*">PROPAGATION_REQUIRED,-Exception</prop>
			</props>
		</property>
	</bean>
	<bean id="canjeBLTarget" class="com.vcortes.canjehoras.bl.CanjeBL">
		<property name="canjeDAO"><ref bean="canjeDAO"/></property>
	</bean>
	
	<bean id="foroBL" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
		<property name="transactionManager"><ref bean="transactionManager"/></property>
		<property name="target"><ref bean="foroBLTarget"/></property>
		<property name="transactionAttributes">
			<props>
				<prop key="*">PROPAGATION_REQUIRED,-Exception</prop>
			</props>
		</property>
	</bean>
	<bean id="foroBLTarget" class="com.vcortes.canjehoras.bl.ForoBL">
		<property name="foroDAO"><ref bean="foroDAO"/></property>
	</bean>
	
	<bean id="publicacionBL" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
		<property name="transactionManager"><ref bean="transactionManager"/></property>
		<property name="target"><ref bean="publicacionBLTarget"/></property>
		<property name="transactionAttributes">
			<props>
				<prop key="*">PROPAGATION_REQUIRED,-Exception</prop>
			</props>
		</property>
	</bean>
	<bean id="publicacionBLTarget" class="com.vcortes.canjehoras.bl.PublicacionBL">
		<property name="publicacionDAO"><ref bean="publicacionDAO"/></property>
	</bean>	
</beans>